# æœåŠ¡å™¨æ•°æ®å¯¼å…¥æŒ‡å—

## å‰ææ¡ä»¶
- æœåŠ¡å·²å¯åŠ¨ï¼š`systemctl status review-viewer` æ˜¾ç¤º active (running)
- æ•°æ®åº“å·²åˆ›å»ºï¼šconfigurable_ops
- é¡¹ç›®ä½ç½®ï¼š`/var/www/nyb_weekly_check_tool_1.0`

## å¯¼å…¥æ­¥éª¤

### 1. ä¸Šä¼ æ•°æ®æ–‡ä»¶åˆ°æœåŠ¡å™¨
å°†ä»¥ä¸‹æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨é¡¹ç›®æ ¹ç›®å½•ï¼š
- `whitelist.xlsx` (æœ¬åœ°è·¯å¾„: D:\pythonproject\nyb_weekly_check_tool\whitelist.xlsx)
- `å®¡æ ¸ç»“æœ_2026-02-25.csv` (æœ¬åœ°è·¯å¾„: D:\pythonproject\nyb_weekly_check_tool\å®¡æ ¸ç»“æœ_2026-02-25.csv)

ä¸Šä¼ å‘½ä»¤ç¤ºä¾‹ï¼ˆåœ¨æœ¬åœ°æ‰§è¡Œï¼‰ï¼š
```bash
# ä½¿ç”¨ scp ä¸Šä¼ ï¼ˆæ›¿æ¢ your_server_ip ä¸ºå®é™…IPï¼‰
scp whitelist.xlsx root@your_server_ip:/var/www/nyb_weekly_check_tool_1.0/
scp å®¡æ ¸ç»“æœ_2026-02-25.csv root@your_server_ip:/var/www/nyb_weekly_check_tool_1.0/
```

### 2. åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œå¯¼å…¥è„šæœ¬
SSH ç™»å½•æœåŠ¡å™¨åæ‰§è¡Œï¼š
```bash
cd /var/www/nyb_weekly_check_tool_1.0
python3 import_data_to_server.py
```

### 3. é¢„æœŸè¾“å‡º
```
============================================================
æœåŠ¡å™¨æ•°æ®å¯¼å…¥å·¥å…·
============================================================

ğŸ“ æŸ¥æ‰¾æ•°æ®æ–‡ä»¶...
âœ… æ‰¾åˆ°whitelist: /var/www/nyb_weekly_check_tool_1.0/whitelist.xlsx
âœ… æ‰¾åˆ°å®¡æ ¸ç»“æœ: /var/www/nyb_weekly_check_tool_1.0/å®¡æ ¸ç»“æœ_2026-02-25.csv

ğŸ”— è¿æ¥æ•°æ®åº“...
âœ… æ•°æ®åº“è¿æ¥æˆåŠŸ

ğŸ“¥ å¯¼å…¥whitelist...
âœ… whitelistå¯¼å…¥æˆåŠŸ
   å¯¼å…¥è®°å½•æ•°: 7053

ğŸ“¥ å¯¼å…¥å®¡æ ¸ç»“æœ...
âœ… å®¡æ ¸ç»“æœå¯¼å…¥æˆåŠŸ
   å¯¼å…¥è®°å½•æ•°: 12345
   âš ï¸  æœªåŒ¹é…é—¨åº—æ•°: 0

============================================================
âœ… æ•°æ®å¯¼å…¥å®Œæˆï¼
============================================================

ğŸ“± è®¿é—®åœ°å€: http://weeklycheck.blitzepanda.top
```

### 4. éªŒè¯å¯¼å…¥ç»“æœ
è®¿é—® http://weeklycheck.blitzepanda.top æ£€æŸ¥ï¼š
- ç­›é€‰é€‰é¡¹æ˜¯å¦æ­£å¸¸åŠ è½½ï¼ˆæˆ˜åŒºã€çœä»½ã€åŸå¸‚ã€åŒºåŸŸç»ç†ã€è¿è¥ï¼‰
- æœç´¢åŠŸèƒ½æ˜¯å¦æ­£å¸¸
- æ•°æ®æ˜¯å¦æ­£ç¡®æ˜¾ç¤º

## æ³¨æ„äº‹é¡¹

1. **é‡å¤å¯¼å…¥**ï¼šé‡å¤è¿è¡Œå¯¼å…¥è„šæœ¬ä¼šæ¸…ç©ºæ—§æ•°æ®å¹¶é‡æ–°å¯¼å…¥
2. **æœªåŒ¹é…é—¨åº—**ï¼šå¦‚æœæœ‰é—¨åº—åœ¨whitelistä¸­æ‰¾ä¸åˆ°ï¼Œä¼šæ ‡è®°ä¸º"[æœªåŒ¹é…]"
3. **é—¨åº—IDå¤„ç†**ï¼šå¸¦'-'çš„é—¨åº—IDä¼šè¢«è‡ªåŠ¨æ¸…ç†ï¼ˆå¦‚'2236-'å˜ä¸º'2236'ï¼‰
4. **æ•°æ®æ›´æ–°**ï¼šæ¯æ¬¡æœ‰æ–°çš„å®¡æ ¸ç»“æœæ—¶ï¼Œé‡æ–°ä¸Šä¼ CSVå¹¶è¿è¡Œå¯¼å…¥è„šæœ¬å³å¯

## æ•…éšœæ’æŸ¥

### å¯¼å…¥å¤±è´¥
```bash
# æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
ls -lh /var/www/nyb_weekly_check_tool_1.0/whitelist.xlsx
ls -lh /var/www/nyb_weekly_check_tool_1.0/å®¡æ ¸ç»“æœ_*.csv

# æ£€æŸ¥æ•°æ®åº“è¿æ¥
psql -U postgres -d configurable_ops -c "SELECT COUNT(*) FROM store_whitelist;"
```

### æœåŠ¡æœªå¯åŠ¨
```bash
# é‡å¯æœåŠ¡
systemctl restart review-viewer

# æŸ¥çœ‹æ—¥å¿—
journalctl -u review-viewer -n 50
```

## æ›´æ–°ä»£ç åçš„æ“ä½œ

å¦‚æœä»GitHubæ‹‰å–äº†æ–°ä»£ç ï¼š
```bash
cd /var/www/nyb_weekly_check_tool_1.0
git pull
systemctl restart review-viewer
```

## åŒºåŸŸç»ç†ç­›é€‰åŠŸèƒ½

æœ€æ–°æ›´æ–°å·²æ·»åŠ åŒºåŸŸç»ç†ç­›é€‰åŠŸèƒ½ï¼š
- ä½ç½®ï¼šæˆ˜åŒºã€çœä»½ã€åŸå¸‚ä¹‹åï¼Œè¿è¥ä¹‹å‰
- æ•°æ®æ¥æºï¼šwhitelist.xlsx çš„"åŒºåŸŸç»ç†"åˆ—
- ä½¿ç”¨æ–¹æ³•ï¼šåœ¨ç­›é€‰åŒºåŸŸé€‰æ‹©åŒºåŸŸç»ç†åç‚¹å‡»æœç´¢
