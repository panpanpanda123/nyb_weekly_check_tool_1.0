# å®¡æ ¸ç»“æœå±•ç¤ºç³»ç»Ÿ - éƒ¨ç½²è¯´æ˜

## ä¸€ã€æœåŠ¡å™¨è¦æ±‚

- **æ“ä½œç³»ç»Ÿ**: Ubuntu 22.04 LTS
- **é…ç½®**: 2æ ¸CPU / 4GBå†…å­˜ / 20GBç¡¬ç›˜
- **ç½‘ç»œ**: å¼€æ”¾ 80 ç«¯å£ï¼ˆHTTPï¼‰

## äºŒã€å¿«é€Ÿéƒ¨ç½²ï¼ˆ3æ­¥å®Œæˆï¼‰

### 1. ä¸Šä¼ ä»£ç åˆ°æœåŠ¡å™¨

```bash
# åœ¨æœ¬åœ°ï¼Œå°†ä»£ç æ¨é€åˆ° GitHub
git add .
git commit -m "å‡†å¤‡éƒ¨ç½²"
git push origin main
```

### 2. åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œå®‰è£…è„šæœ¬

```bash
# SSH ç™»å½•æœåŠ¡å™¨
ssh root@your-server-ip

# ä¸‹è½½å¹¶è¿è¡Œå®‰è£…è„šæœ¬
wget https://raw.githubusercontent.com/your-repo/main/deploy/install.sh
chmod +x install.sh
sudo bash install.sh

# æŒ‰æç¤ºè¾“å…¥ GitHub ä»“åº“åœ°å€
# ä¾‹å¦‚: https://github.com/your-username/your-repo.git
```

**å®‰è£…è„šæœ¬ä¼šè‡ªåŠ¨å®Œæˆï¼š**
- âœ… å®‰è£… Pythonã€PostgreSQLã€Nginx
- âœ… åˆ›å»ºæ•°æ®åº“å’Œç”¨æˆ·
- âœ… å…‹éš†ä»£ç å¹¶å®‰è£…ä¾èµ–
- âœ… é…ç½® Nginx åå‘ä»£ç†
- âœ… é…ç½®ç³»ç»ŸæœåŠ¡è‡ªå¯åŠ¨

### 3. è®¿é—®ç³»ç»Ÿ

å®‰è£…å®Œæˆåï¼Œåœ¨æµè§ˆå™¨è®¿é—®ï¼š
```
http://your-server-ip
```

## ä¸‰ã€ä½¿ç”¨è¯´æ˜

### æ•°æ®ç®¡ç†ï¼ˆç®¡ç†å‘˜ï¼‰

1. **è®¿é—®ç®¡ç†é¡µé¢**
   ```
   http://your-server-ip/admin/upload
   ```

2. **ä¸Šä¼ ç™½åå•**
   - ç‚¹å‡»"é€‰æ‹©ç™½åå•æ–‡ä»¶"
   - é€‰æ‹© `.xlsx` æ ¼å¼çš„ç™½åå•æ–‡ä»¶
   - ç‚¹å‡»"ä¸Šä¼ ç™½åå•"
   - ç­‰å¾…å¯¼å…¥å®Œæˆ

3. **ä¸Šä¼ å®¡æ ¸ç»“æœ**
   - ç‚¹å‡»"é€‰æ‹©å®¡æ ¸ç»“æœæ–‡ä»¶"
   - é€‰æ‹© `.csv` æ ¼å¼çš„å®¡æ ¸ç»“æœæ–‡ä»¶
   - ç‚¹å‡»"ä¸Šä¼ å®¡æ ¸ç»“æœ"
   - ç­‰å¾…å¯¼å…¥å®Œæˆ

### æŸ¥çœ‹å®¡æ ¸ç»“æœï¼ˆå¤–éƒ¨åŒäº‹ï¼‰

1. **è®¿é—®å±•ç¤ºé¡µé¢**
   ```
   http://your-server-ip
   ```

2. **ç­›é€‰æŸ¥è¯¢**
   - é€‰æ‹©æˆ˜åŒºï¼ˆå¯é€‰ï¼‰
   - é€‰æ‹©çœä»½ï¼ˆå¯é€‰ï¼‰
   - é€‰æ‹©åŸå¸‚ï¼ˆå¯é€‰ï¼‰
   - é€‰æ‹©é—¨åº—æ ‡ç­¾ï¼ˆå¯é€‰ï¼‰
   - é€‰æ‹©æ˜¯å¦åˆæ ¼ï¼ˆå¯é€‰ï¼‰
   - ç‚¹å‡»"æœç´¢"æŒ‰é’®

3. **æŸ¥çœ‹ç»“æœ**
   - æŸ¥çœ‹æ£€æŸ¥é¡¹åˆ—è¡¨
   - ç‚¹å‡»å›¾ç‰‡å¯æ”¾å¤§æŸ¥çœ‹
   - ä¸åˆæ ¼é¡¹ä¼šä»¥çº¢è‰²æ˜¾ç¤º

## å››ã€æ—¥å¸¸ç»´æŠ¤

### æŸ¥çœ‹æœåŠ¡çŠ¶æ€
```bash
sudo systemctl status review-viewer
```

### æŸ¥çœ‹å®æ—¶æ—¥å¿—
```bash
sudo journalctl -u review-viewer -f
```

### é‡å¯æœåŠ¡
```bash
sudo systemctl restart review-viewer
```

### æ›´æ–°ä»£ç 
```bash
# åœ¨æœ¬åœ°æ¨é€æ–°ä»£ç åˆ° GitHub
git push origin main

# åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œæ›´æ–°è„šæœ¬
cd /opt/review-result-viewer
sudo bash deploy/update.sh
```

## äº”ã€æ•°æ®åº“ä¿¡æ¯

å®‰è£…å®Œæˆåï¼Œæ•°æ®åº“å‡­æ®ä¿å­˜åœ¨ï¼š
```
/root/.review_viewer_db_credentials
```

æŸ¥çœ‹æ•°æ®åº“ä¿¡æ¯ï¼š
```bash
cat /root/.review_viewer_db_credentials
```

## å…­ã€æ•…éšœæ’æŸ¥

### æœåŠ¡æ— æ³•å¯åŠ¨
```bash
# æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
sudo journalctl -u review-viewer -n 100

# æ£€æŸ¥æ•°æ®åº“è¿æ¥
sudo -u postgres psql -l
```

### æ— æ³•è®¿é—®ç½‘ç«™
```bash
# æ£€æŸ¥ Nginx çŠ¶æ€
sudo systemctl status nginx

# æ£€æŸ¥ Nginx é…ç½®
sudo nginx -t

# é‡å¯ Nginx
sudo systemctl restart nginx
```

### æ•°æ®åº“è¿æ¥å¤±è´¥
```bash
# æ£€æŸ¥ PostgreSQL çŠ¶æ€
sudo systemctl status postgresql

# é‡å¯ PostgreSQL
sudo systemctl restart postgresql
```

## ä¸ƒã€å®‰å…¨å»ºè®®

1. **ä¿®æ”¹é»˜è®¤å¯†ç **
   - æ•°æ®åº“å¯†ç å·²è‡ªåŠ¨ç”Ÿæˆï¼ˆä¿å­˜åœ¨å‡­æ®æ–‡ä»¶ä¸­ï¼‰

2. **é…ç½®é˜²ç«å¢™**
   ```bash
   sudo ufw allow 80/tcp
   sudo ufw allow 22/tcp
   sudo ufw enable
   ```

3. **é…ç½® HTTPSï¼ˆå¯é€‰ï¼‰**
   ```bash
   # å®‰è£… Certbot
   sudo apt install certbot python3-certbot-nginx
   
   # è·å– SSL è¯ä¹¦
   sudo certbot --nginx -d your-domain.com
   ```

## å…«ã€è”ç³»æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ï¼š
- ç³»ç»Ÿæ—¥å¿—: `sudo journalctl -u review-viewer -f`
- Nginx æ—¥å¿—: `/var/log/nginx/error.log`
- åº”ç”¨æ—¥å¿—: åœ¨ç³»ç»Ÿæ—¥å¿—ä¸­æŸ¥çœ‹

---

**éƒ¨ç½²å®Œæˆï¼** ğŸ‰
