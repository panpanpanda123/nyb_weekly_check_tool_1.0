# é—¨åº—ç®¡ç†ç³»ç»Ÿ - éƒ¨ç½²æ€»ç»“

## é¡¹ç›®æ¸…ç†å®Œæˆ âœ…

å·²åˆ é™¤æ‰€æœ‰è¿‡æœŸã€æ— ç”¨ã€æµ‹è¯•ç”¨çš„æ–‡ä»¶ï¼Œé¡¹ç›®ç»“æ„æ¸…æ™°ã€‚

## å½“å‰ç³»ç»ŸçŠ¶æ€

### 1. é—¨åº—è¯„çº§ç³»ç»Ÿ
- âœ… ç•Œé¢ä¼˜åŒ–å®Œæˆï¼ˆç°ä»£åŒ–è®¾è®¡ï¼‰
- âœ… ç§»åŠ¨ç«¯å®Œç¾é€‚é…
- âœ… è¯„ä»·æ ‡å‡†åœ¨é¡¶éƒ¨æ˜¾ç¤º
- âœ… 1æœˆå ‚é£Ÿè¥ä¸šé¢é«˜äº®æ˜¾ç¤º
- âœ… æœ¬åœ°æµ‹è¯•é€šè¿‡
- âœ… ç‹¬ç«‹è¿è¡Œï¼ˆæ— éœ€æ•°æ®åº“ï¼‰
- âœ… JSONæ–‡ä»¶å­˜å‚¨

**æœ¬åœ°è®¿é—®**: http://localhost:8000/rating

### 2. å‘¨æ¸…å®¡æ ¸ç³»ç»Ÿ
- âœ… åŠŸèƒ½æ­£å¸¸
- âœ… æ•°æ®åº“é›†æˆ
- âœ… äº‘æœåŠ¡å™¨è¿è¡Œä¸­

**äº‘æœåŠ¡å™¨è®¿é—®**: http://blitzepanda.top

## ä¸Šä¼ åˆ°GitHub

### éœ€è¦ä¸Šä¼ çš„æ–‡ä»¶
å‚è€ƒ `GITHUBä¸Šä¼ æ¸…å•.md`

### Gitæ“ä½œ
```bash
# 1. æ·»åŠ æ‰€æœ‰æ–‡ä»¶
git add .

# 2. æäº¤
git commit -m "é—¨åº—ç®¡ç†ç³»ç»Ÿï¼šå‘¨æ¸…å®¡æ ¸ + é—¨åº—è¯„çº§"

# 3. æ¨é€åˆ°GitHub
git push origin main
```

### ä¸ä¼šä¸Šä¼ çš„æ–‡ä»¶ï¼ˆå·²é…ç½®.gitignoreï¼‰
- rating_data/ ï¼ˆé—¨åº—æ•°æ®ï¼‰
- store_rank/ ï¼ˆç™½åå•ï¼‰
- logs/ ï¼ˆæ—¥å¿—ï¼‰
- __pycache__/ ï¼ˆPythonç¼“å­˜ï¼‰
- .env ï¼ˆç¯å¢ƒå˜é‡ï¼‰

## éƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨

### æ–¹æ³•1ï¼šä½¿ç”¨ä¸Šä¼ è„šæœ¬ï¼ˆæ¨èï¼‰
```bash
upload_rating_to_server.bat
```

ç„¶åSSHåˆ°æœåŠ¡å™¨ï¼š
```bash
ssh root@blitzepanda.top
cd /root/rating
bash deploy/deploy_rating.sh
systemctl start rating
```

### æ–¹æ³•2ï¼šä»GitHubæ‹‰å–
```bash
# SSHåˆ°æœåŠ¡å™¨
ssh root@blitzepanda.top

# å…‹éš†ä»£ç 
cd /root
git clone https://github.com/your-username/your-repo.git rating

# ä¸Šä¼ æ•°æ®æ–‡ä»¶ï¼ˆä»æœ¬åœ°ï¼‰
scp rating_data/stores.json root@blitzepanda.top:/root/rating/rating_data/

# éƒ¨ç½²
cd /root/rating
bash deploy/deploy_rating.sh
systemctl start rating
```

### Nginxé…ç½®
åœ¨Nginxé…ç½®ä¸­æ·»åŠ ï¼š
```nginx
location /rating {
    proxy_pass http://127.0.0.1:8000;
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
}

location /api/rating {
    proxy_pass http://127.0.0.1:8000;
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
}
```

é‡å¯Nginxï¼š
```bash
nginx -t
systemctl reload nginx
```

## è®¿é—®åœ°å€

### æœ¬åœ°æµ‹è¯•
- å‘¨æ¸…å®¡æ ¸ï¼šhttp://localhost:5001
- é—¨åº—è¯„çº§ï¼šhttp://localhost:8000/rating

### äº‘æœåŠ¡å™¨ï¼ˆéƒ¨ç½²åï¼‰
- å‘¨æ¸…å®¡æ ¸ï¼šhttp://blitzepanda.top
- é—¨åº—è¯„çº§ï¼šhttp://blitzepanda.top/rating

## æ•°æ®ç®¡ç†

### æ›´æ–°é—¨åº—æ•°æ®
```bash
# 1. æœ¬åœ°å¯¼å‡º
python export_stores_to_json.py

# 2. ä¸Šä¼ åˆ°æœåŠ¡å™¨
scp rating_data/stores.json root@blitzepanda.top:/root/rating/rating_data/

# 3. é‡å¯æœåŠ¡
ssh root@blitzepanda.top "systemctl restart rating"
```

### å¤‡ä»½è¯„çº§æ•°æ®
```bash
# ä»æœåŠ¡å™¨ä¸‹è½½
scp root@blitzepanda.top:/root/rating/rating_data/ratings.json ./backup/
```

## æ–‡æ¡£è¯´æ˜

### ä¸»è¦æ–‡æ¡£
- `README.md` - é¡¹ç›®æ€»ä½“è¯´æ˜
- `é—¨åº—è¯„çº§ç³»ç»Ÿè¯´æ˜.md` - è¯„çº§ç³»ç»Ÿè¯¦ç»†ä½¿ç”¨è¯´æ˜
- `deploy/rating_deploy_guide.md` - éƒ¨ç½²æŒ‡å—
- `GITHUBä¸Šä¼ æ¸…å•.md` - GitHubä¸Šä¼ æ¸…å•

### å¿«é€Ÿå‚è€ƒ
- è¯„çº§ç³»ç»Ÿç«¯å£ï¼š8000
- å‘¨æ¸…å®¡æ ¸ç«¯å£ï¼š5001
- æ•°æ®åº“ï¼šPostgreSQLï¼ˆå‘¨æ¸…ï¼‰/ JSONï¼ˆè¯„çº§ï¼‰

## ç³»ç»Ÿç‰¹ç‚¹

### é—¨åº—è¯„çº§ç³»ç»Ÿ
- ğŸ¨ ç°ä»£åŒ–ç•Œé¢è®¾è®¡
- ğŸ“± å®Œç¾ç§»åŠ¨ç«¯é€‚é…
- âš¡ å¿«é€Ÿå“åº”
- ğŸ’¾ è‡ªåŠ¨ä¿å­˜
- ğŸ“Š å®æ—¶ç»Ÿè®¡
- ğŸ“¥ CSVå¯¼å‡º

### å‘¨æ¸…å®¡æ ¸ç³»ç»Ÿ
- ğŸ“¸ å›¾ç‰‡å®¡æ ¸
- ğŸ‘¥ å¤šäººåä½œ
- ğŸ“Š è¿›åº¦ç»Ÿè®¡
- ğŸ“¥ æ•°æ®å¯¼å‡º

## æŠ€æœ¯æ ˆ
- Python 3.11 + Flask
- PostgreSQLï¼ˆå‘¨æ¸…ï¼‰
- JSONæ–‡ä»¶ï¼ˆè¯„çº§ï¼‰
- åŸç”ŸJavaScript + CSS
- Gunicorn + Nginx

## æ³¨æ„äº‹é¡¹

1. **æ•°æ®å®‰å…¨**ï¼šå®šæœŸå¤‡ä»½ `rating_data/ratings.json`
2. **æ•æ„Ÿä¿¡æ¯**ï¼šä¸è¦ä¸Šä¼ æ•°æ®æ–‡ä»¶åˆ°GitHub
3. **ç¯å¢ƒå˜é‡**ï¼šä½¿ç”¨ `.env` ç®¡ç†é…ç½®
4. **æ—¥å¿—ç›‘æ§**ï¼šå®šæœŸæŸ¥çœ‹ `logs/rating_app.log`
5. **æ€§èƒ½ä¼˜åŒ–**ï¼šä½¿ç”¨Gunicornå¤šè¿›ç¨‹éƒ¨ç½²

## ä¸‹ä¸€æ­¥

1. âœ… ä¸Šä¼ ä»£ç åˆ°GitHub
2. âœ… éƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨
3. âœ… é…ç½®Nginx
4. âœ… æµ‹è¯•åŠŸèƒ½
5. âœ… åŸ¹è®­ç”¨æˆ·

## è”ç³»æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶æˆ–è”ç³»æŠ€æœ¯æ”¯æŒã€‚
